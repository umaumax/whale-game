# プロジェクト仕様書: 出世魚ゲーム (Shusseuo Game)

## 1. ゲーム概要
物理演算を用いた落ち物パズルゲーム（マージゲーム）。
プレイヤーは箱の中に魚を落とし、同じ種類の魚同士を衝突させて「進化（出世）」させる。
最終目標は、進化の最終段階である「クジラ」を作ること、およびハイスコアを目指すことである。

## 2. ゲームプレイルール

### 基本操作
*   **ポインター移動:** 画面上部で魚を落とす位置を左右に移動させる。
*   **ドロップ:** クリックまたはタップで魚を箱の中に落とす。
*   **ネクスト表示:** 次に落ちてくる魚（およびその次）を表示する。

### 進化（マージ）システム
*   同じ種類の魚が接触すると、その2匹が消滅し、その接触位置に「1段階上の魚」が1匹生成される。
*   進化時にはスコアが加算される。
*   物理演算により、進化時に周囲の魚が弾かれる挙動を持つ。

### ゲームオーバー条件
*   積み上がった魚が、箱の上部に設定された「デッドライン」を超え、一定時間以上留まった場合にゲームオーバーとなる。

## 3. 進化テーブル（魚の階層）
スイカゲームの標準的な11段階構成に合わせ、日本の出世魚（ブリなど）と海の生き物をサイズ順に構成。

| 段階 | 名称 | 英語名 | サイズ(半径) | スコア | 特徴 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| 01 | **シラス** | Shirasu | 極小 | 1 | 最小単位。隙間に入り込む。 |
| 02 | **アジ** | Horse Mackerel | 小 | 3 | まだ小さい。 |
| 03 | **ワカシ** | Wakashi | 小中 | 6 | ブリの幼魚（第1段階）。 |
| 04 | **イナダ** | Inada | 中小 | 10 | ブリの若魚（第2段階）。 |
| 05 | **ワラサ** | Warasa | 中 | 15 | ブリの成魚手前（第3段階）。 |
| 06 | **ブリ** | Yellowtail | 中大 | 21 | 出世魚の代表格。ここから大きくなる。 |
| 07 | **タイ** | Red Snapper | 大 | 28 | 縁起物。丸みを帯びた形状。 |
| 08 | **カツオ** | Bonito | 特大 | 36 | 動きそうな形状だが物理挙動は円形推奨。 |
| 09 | **マグロ** | Tuna | 巨大 | 45 | 非常に大きい。邪魔になりやすい。 |
| 10 | **サメ** | Shark | 超巨大 | 55 | クジラの一歩手前。 |
| 11 | **クジラ** | Whale | 最大 | 66 | **最終目標**。盤面を大きく占有する。 |

※ ドロップ可能なのは「01: シラス」から「05: ワラサ」程度までとする（ランダム出現）。

## 4. 画面構成 (UI/UX)

### メイン画面
*   **ゲームエリア（箱）:** 物理演算が適用される矩形の領域。
*   **スコア表示:** 現在のスコア。
*   **ベストスコア:** 過去の最高得点。
*   **進化サークル:** どの魚が次に何になるかを示す図（画面端に配置）。
*   **NEXT枠:** 次に落とす魚のプレビュー。

### リザルト画面
*   最終スコア表示。
*   「本日のお品書き」的な演出で、作った最大の魚を表示する。
*   リトライボタン。

### 演出
* 出世時に「出世！」の文字＋和風SE
* 最終形態がくっついたときには金色エフェクト & ファンファーレ

## 5. 技術スタック要件 (推奨)

### ゲームエンジン
* Webブラウザ対応の物理エンジンを利用すること。
  * 例: Phaser.js + Matter.js、Three.js + Cannon.js など。
    * スマホ対応を考慮し、軽量なものが望ましい。

### アセット要件
*   **画像:** 11種類の魚のイラスト（円形に収まるデフォルメされたデザイン推奨）。
*   **音響:**
    *   BGM: 和風でのんびりした曲調。
    *   SE: 落とす音、合体音（ポンッという小気味よい音）、クジラ完成時のファンファーレ。

## 6. 物理パラメータ調整指針
*   **反発係数 (Bounciness):** あまり高くしすぎない（0.1〜0.3程度）。跳ねすぎるとゲームが難しくなる。
*   **摩擦 (Friction):** 適度に設定し、転がりすぎないようにする。
*   **重力:** 自然な落下感が必要。
*   **質量:** サイズに応じて質量を重くし、大きい魚が小さい魚を押しのける挙動を作る。

## 7. 拡張アイデア
*   **「出世」演出:** ワカシ→イナダ→ワラサ→ブリの進化時のみ、特別なエフェクト（紙吹雪など）を出す。
*   **お邪魔キャラ:** たまに「釣り針」が落ちてきて魚を連れ去る、などのギミック（オプション）。
